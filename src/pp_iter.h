#ifndef PP_ITER_H
#define PP_ITER_H

#ifdef __cplusplus
extern "C" {
#endif

// clang-format off
#define EXPAND(x) x
#define PP_RSEQ_N() 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0

#define PP_NARG(...) EXPAND(PP_ARG_N(_0, ##__VA_ARGS__, PP_RSEQ_N()))
#define PP_ARG_N(...) EXPAND(_PP_ARG_N(__VA_ARGS__))
#define _PP_ARG_N(_1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, N, ...) N

#define PP_CAT(x, ...) _PP_CAT(x, PP_NARG(__VA_ARGS__), __VA_ARGS__)
#define _PP_CAT(x, N, ...) __PP_CAT(x, N, __VA_ARGS__)
#define __PP_CAT(x, N, ...) _PP_CAT_##N(x, __VA_ARGS__)

#define _PP_CAT_0(x, dummy)
#define _PP_CAT_1(x, _0) _0
#define _PP_CAT_2(x, _0, _1) _0##x##_1
#define _PP_CAT_3(x, _0, _1, _2) _0##x##_1##x##_2
#define _PP_CAT_4(x, _0, _1, _2, _3) _0##x##_1##x##_2##x##_3
#define _PP_CAT_5(x, _0, _1, _2, _3, _4) _0##x##_1##x##_2##x##_3##x##_4
#define _PP_CAT_6(x, _0, _1, _2, _3, _4, _5) _0##x##_1##x##_2##x##_3##x##_4##x##_5
#define _PP_CAT_7(x, _0, _1, _2, _3, _4, _5, _6) _0##x##_1##x##_2##x##_3##x##_4##x##_5##x##_6
#define _PP_CAT_8(x, _0, _1, _2, _3, _4, _5, _6, _7) _0##x##_1##x##_2##x##_3##x##_4##x##_5##x##_6##x##_7
#define _PP_CAT_9(x, _0, _1, _2, _3, _4, _5, _6, _7, _8) _0##x##_1##x##_2##x##_3##x##_4##x##_5##x##_6##x##_7##x##_8
#define _PP_CAT_10(x, _0, _1, _2, _3, _4, _5, _6, _7, _8, _9) _0##x##_1##x##_2##x##_3##x##_4##x##_5##x##_6##x##_7##x##_8##x##_9
#define _PP_CAT_11(x, _0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10) _0##x##_1##x##_2##x##_3##x##_4##x##_5##x##_6##x##_7##x##_8##x##_9##x##_10
#define _PP_CAT_12(x, _0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11) _0##x##_1##x##_2##x##_3##x##_4##x##_5##x##_6##x##_7##x##_8##x##_9##x##_10##x##_11
#define _PP_CAT_13(x, _0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12) _0##x##_1##x##_2##x##_3##x##_4##x##_5##x##_6##x##_7##x##_8##x##_9##x##_10##x##_11##x##_12
#define _PP_CAT_14(x, _0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13) _0##x##_1##x##_2##x##_3##x##_4##x##_5##x##_6##x##_7##x##_8##x##_9##x##_10##x##_11##x##_12##x##_13
#define _PP_CAT_15(x, _0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14) _0##x##_1##x##_2##x##_3##x##_4##x##_5##x##_6##x##_7##x##_8##x##_9##x##_10##x##_11##x##_12##x##_13##x##_14
#define _PP_CAT_16(x, _0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15) _0##x##_1##x##_2##x##_3##x##_4##x##_5##x##_6##x##_7##x##_8##x##_9##x##_10##x##_11##x##_12##x##_13##x##_14##x##_15

#ifdef __cplusplus
} /* extern "C" */
#endif

#endif /* PP_ITER_H */
